flowchart LR
  E1["Epic 1\nКонтракты и infra baseline"] --> E2["Epic 2\nMetadata-driven data access"]
  E2 --> E3["Epic 3\nPipeline обновлений"]
  E3 --> E4["Epic 4\nQuery API + кэш-консистентность"]
  E4 --> E5["Epic 5\nSRE + production readiness"]

  E1 --> M1["Milestone A\nКонтракты утверждены"]
  E3 --> M2["Milestone B\nIdempotency + version bump доказаны"]
  E4 --> M3["Milestone C\nНет stale-read под X-Min-Version"]
  E5 --> M4["Milestone D\nGo-live readiness review"]

  R1["Риск: вариативность схем БД"] -.-> E2
  R2["Риск: промах по freshness SLO"] -.-> E4
  R3["Риск: пробелы runbook"] -.-> E5
